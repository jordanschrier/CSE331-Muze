<!DOCTYPE html>
<html>
<head>
    <!-- Page Attributes -->
    <title>Inspiration Details - Muze</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
    <!-- External References, Stylesheets, and JS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&family=Sometype+Mono:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <!-- Local Stylesheets and JS -->
    <link rel="stylesheet" href="../styles.css">
    <script src="../config.js"></script>
    <script src="../helpers.js"></script>
    <script src="inspo.js"></script>

</head>
<body>
    <nav class="header p-4">
        <!-- Logo -->
        <a href="../"><img class="logo" src="../assets/muse_vector.svg" alt="Muze Logo"></a>
        
        <!-- Search -->
        <input type="text" class="search-bar" placeholder="Search Muze">
        
        <!-- Icons -->
        <div class="nav-links"><!--
            --><a class="nav-icon" href="../muze-board/"><i class="bi bi-grid-3x3-gap-fill"></i><span>Board</span></a><!--
            --><a class="nav-icon" href="../"><img src="../assets/inspo-icon.svg" alt="Inspiration"><span>Find Inspo</span></a><!--
            --><a class="nav-icon" href="../profile/"><img src="../assets/profile-icon.svg" alt="Profile"></a>
        </div>
    </nav>

    <div class="content p-4">
        <div class="row" id="inspo-detail">
            <div class="image-content">
                <a class="back-link" href="../"><img src="../assets/arrow-back-icon.svg" height="24px" alt="Back"><span></span></a>
                <div class="image-container">
                    <img id="inspo-image" src="" alt="Inspiration image" class="img-fluid full-image">
                </div>
            </div>
            <div class="description col-md-4">
                <div class="p-3">
                    <!-- Post Description -->
                    <h2>Description</h2>
                    <div id="inspo-description"></div>
                    <div class="mt-3">
                        <div id="tag1" class="tag"></div>
                        <div id="tag2" class="tag"></div>
                    </div>
                </div>

                <div class="p-3" id="user-actions"></div>

                <!-- User Actions (Fav, Comment, etc)-->
                <div id="comments-container" class="comments-container"></div>
                <form id="comment-form" class="comment-form">
                    <div>
                        <label for="comment-author">Add a Comment</label>
                        <input type="text" id="comment-author" class="form-control input-field" placeholder="Your Name (Optional)">
                    </div>
                    <div>
                        <!-- <label for="comment-text">Your Comment</label> -->
                        <textarea id="comment-text" class="form-control input-field" rows="3" placeholder="Message" required ></textarea>
                    </div>
                    <button type="button" id="comment-submit" class="btn btn-primary input-field">Post Comment</button>
                </form>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            // Load the inspiration detail
            loadInspirationDetail();
            
            // Set up comment form submission
            $('#comment-submit').on('click', handleCommentSubmit);
            
            // Allow form submission with Enter key
            $('#comment-text').on('keydown', function(event) {
                if (event.key === 'Enter' && event.ctrlKey) {
                    handleCommentSubmit();
                }
            });

            // Add save button after image is loaded
            $(document).ajaxStop(function() {
                // Add save button to detail image
                if (typeof addSaveButtonToDetail === 'function') {
                    addSaveButtonToDetail();
                }
            });
        });
    </script>
    
    <!-- Load the muze board functionality -->
    <script src="../muze-board/muze-board.js"></script>
</body>
</html>